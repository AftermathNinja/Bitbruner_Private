var ram = 4096;
var serversOwned = getPurchasedServers();
var money = getServerMoneyAvailable('home');
var servers16GB = [];
var servers128GB = [];
var servers1024GB = [];
var servers4096GB = [];

var i = 0;
var x = servers4096GB.length;


while (servers4096GB.length !== 25) {
	if (money > getPurchasedServerCost(ram)) {
		if (getPurchasedServers().length !== 25) {
			var serverNew = purchaseServer('pserv-' + x + '-' + ram + 'GB', ram);
			scp('level_3_hack.script', serverNew);
			exec('level_3_hack.script', serverNew, 1489);
			money = getServerMoneyAvailable('home');
			servers4096GB[x] = serverNew;
			serversOwned[i] = serverNew;
			++i;
		}
		else for (i < serversOwned.length; ++i;) {
			serverOld = serversOwned[i];
			money = getServerMoneyAvailable('home');
			if (getServerMaxRam(serverOld) < ram && money > getPurchasedServerCost(ram)) {
				killall(serverOld);
				deleteServer(serverOld);
				var serverNew = purchaseServer('pserv-' + x + '-' + ram + 'GB', ram);
				scp('level_3_hack.script', serverNew);
				exec('level_3_hack.script', serverNew, 1489);
				money = getServerMoneyAvailable('home');
				servers4096GB[x] = serverNew;
				serversOwned[i] = serverNew;
			}
			else {
				print('Debug 1');
				sleep(30000);
				--i;
			}
		}
	}
	else {
		print('Debug 2');
		sleep(30000);
		money = getServerMoneyAvailable('home');
	}
}