var ram = 1024;
var serversOwned = getPurchasedServers();
var money = getServerMoneyAvailable('home');
var servers16GB = [];
var servers128GB = [];
var servers1024GB = [];
var servers2048GB = [];

var i = 0;
var x = servers1024GB.length;

kill('purchase_server_128gb.script', 'home');

while (servers1024GB.length !== 25) {
	if (money > getPurchasedServerCost(ram)) {
		if (getPurchasedServers().length !== 25) {
			var serverNew = purchaseServer('pserv-' + x + '-' + ram + 'GB', ram);
			scp('level_2-5_hack.script', serverNew);
			exec('level_2-5_hack.script', serverNew, 330);
			money = getServerMoneyAvailable('home');
			servers1024GB[x] = serverNew;
			serversOwned[i] = serverNew;
			++i;
		}
		else for (i < serversOwned.length; ++i;) {
			serverOld = serversOwned[i];
			money = getServerMoneyAvailable('home');
			if (getServerMaxRam(serverOld) < ram && money > getPurchasedServerCost(ram)) {
				killall(serverOld);
				deleteServer(serverOld);
				var serverNew = purchaseServer('pserv-' + x + '-' + ram + 'GB', ram);
				scp('level_2-5_hack.script', serverNew);
				exec('level_2-5_hack.script', serverNew, 330);
				money = getServerMoneyAvailable('home');
				servers1024GB[x] = serverNew;
				serversOwned[i] = serverNew;
			}
			else {
				print('Debug 1');
				sleep(30000);
				--i;
			}
		}
	}
	else {
		print('Debug 2');
		sleep(30000);
		money = getServerMoneyAvailable('home');
	}
}

exec('purchase_server_4096gb.script', 'home');